"use strict";exports.id=12,exports.ids=[12],exports.modules={12:(t,s,e)=>{e.d(s,{D:()=>d});var i=e(9885),r=e(9520),u=e(4218),n=e(8818),o=e(834);class a extends o.l{constructor(t,s){super(),this.client=t,this.setOptions(s),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var s;let e=this.options;this.options=this.client.defaultMutationOptions(t),(0,r.VS)(e,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),null==(s=this.currentMutation)||s.setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var t;null==(t=this.currentMutation)||t.removeObserver(this)}}onMutationUpdate(t){this.updateResult();let s={listeners:!0};"success"===t.type?s.onSuccess=!0:"error"===t.type&&(s.onError=!0),this.notify(s)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(t,s){return this.mutateOptions=s,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:void 0!==t?t:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){let t=this.currentMutation?this.currentMutation.state:(0,u.R)(),s={...t,isLoading:"loading"===t.status,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset};this.currentResult=s}notify(t){n.V.batch(()=>{if(this.mutateOptions&&this.hasListeners()){var s,e,i,r,u,n,o,a;t.onSuccess?(null==(s=(e=this.mutateOptions).onSuccess)||s.call(e,this.currentResult.data,this.currentResult.variables,this.currentResult.context),null==(i=(r=this.mutateOptions).onSettled)||i.call(r,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)):t.onError&&(null==(u=(n=this.mutateOptions).onError)||u.call(n,this.currentResult.error,this.currentResult.variables,this.currentResult.context),null==(o=(a=this.mutateOptions).onSettled)||o.call(a,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context))}t.listeners&&this.listeners.forEach(({listener:t})=>{t(this.currentResult)})})}}var l=e(1214),h=e(212),c=e(4713);function d(t,s,e){let u=(0,r.lV)(t,s,e),o=(0,h.NL)({context:u.context}),[d]=i.useState(()=>new a(o,u));i.useEffect(()=>{d.setOptions(u)},[d,u]);let b=(0,l.$)(i.useCallback(t=>d.subscribe(n.V.batchCalls(t)),[d]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),R=i.useCallback((t,s)=>{d.mutate(t,s).catch(p)},[d]);if(b.error&&(0,c.L)(d.options.useErrorBoundary,[b.error]))throw b.error;return{...b,mutate:R,mutateAsync:b.mutate}}function p(){}}};